// Literal 0.2.0 (Built 2021-06-13 21:30)


import{a as L,b as a,c as $,d as c,e as g,f as Zt,g as G,h as gt}from"./chunk-MXU6YKIX.js";function U(e){var t=e.id;if(!t){do t=Math.ceil(Math.random()*1e5);while(document.getElementById(t));e.id=t}return t}function x(e){return e.nodeType===3}var Se={1:"element",3:"text",8:"comment",9:"document",10:"doctype",11:"fragment"};function ne(e){return Se[e.nodeType]}function Ge(e,t,r){let n=e(t),o=e(r);return o===n?0:n>o?1:-1}var oe=c(Ge,!0);function ie(e,t){if(e===t)return!0;if(e===null||t===null||typeof e!="object"||typeof t!="object")return!1;let r=Object.keys(e),n=Object.keys(t),o=r.length;for(;o--;){if(e[r[o]]===void 0){if(t[r[o]]!==void 0)return!1}else if(!t.hasOwnProperty(r[o])||!ie(e[r[o]],t[r[o]]))return!1;let i=n.indexOf(r[o]);i>-1&&n.splice(i,1)}for(o=n.length;o--;)if(t[n[o]]===void 0){if(e[n[o]]!==void 0)return!1}else return!1;return!0}var se=c(ie,!0);function Ue(e,t){let r;for(r in e)if(e[r]!==t[r])return!1;return!0}var ue=c(Ue,!0);var ce=/\[?([-\w]+)(?:=(['"])([^\2]+)\2|(true|false)|((?:\d*\.)?\d+))?\]?\.?/g;function qe(e,t,r){for(var n=r.length,o=-1;++o<n;)if(r[o][e]===t)return r[o]}function Le(e,t,r,n){var o=e.exec(t);if(!o)throw new Error('Fn.getPath(path, object): invalid path "'+t+'"');var i=o[1],s=o[3]?qe(i,o[2]?o[3]:o[4]?Boolean(o[4]):parseFloat(o[5]),r):r[i];return n(e,t,s)}function fe(e,t,r){return e.lastIndex===t.length?r:r&&typeof r=="object"?Le(e,t,r,fe):void 0}function $e(e,t){return ce.lastIndex=0,fe(ce,e,t)}var le=c($e,!0);function q(e){if(typeof e=="string")return e.trim().toLowerCase().replace(/^[\W_]+/,"").replace(/[\W_]+$/,"").replace(/[\W_]+/g,"-")}var Fe=/^\s*([+-]?\d*\.?\d+)([^\s\d]*)\s*$/;function Ie(e,t){if(typeof t=="number")return t;var r=Fe.exec(t);if(!r||!e[r[2]||""]){if(!e.catch)throw new Error('Cannot parse value "'+t+'" with provided units '+Object.keys(e).join(", "));return r?e.catch(parseFloat(r[1]),r[2]):e.catch(parseFloat(t))}return e[r[2]||""](parseFloat(r[1]))}var pe=c(Ie);var F=a($,{number:L,string:pe({px:e=>e,em:e=>16*e,rem:e=>16*e,catch:(e,t)=>{if(Number.isNaN(e))throw new Error("Invalid CSS length NaN");if(t)throw new Error("Invalid CSS length value: "+e+" unit: "+t);return e}})}),ae=F;function de(e){return F(e)/16}function me(e){return F(e)/16}var We={by:oe,entries:Object.entries,em:de,equals:se,get:le,keys:Object.keys,matches:ue,px:ae,rem:me,slugify:q,values:Object.values},p=We;function Me(e,t){return t[e]}var I=c(Me,!0);function He(e){let t=e[0];return/^\w/.test(t)}function k(e={},t,r,n){let o=Object.entries(e).filter(He),i=o.map(I(0)),s=o.map(I(1));return n?new Function(...i,"return async ("+t+") => {"+(r||"")+"}").apply(n,s):new Function(...i,"return async function("+t+"){"+(r||"")+"}").apply(null,s)}var Je=window.DEBUG===!0||window.DEBUG&&window.DEBUG.includes("literal"),_e={green:"#d8cd17",yellow:"#eac60c",orange:"#ffa000",red:"#ff003a"},y=Je?function(t,r,n="#d8cd17"){console.log("%cLiteral %c"+t+" %c"+r,"color: #81868f; font-weight: 600;","color: "+(_e[n]||n)+"; font-weight: 300;","color: #81868f; font-weight: 300;")}:g;var ze=window.DEBUG===!0||window.DEBUG&&window.DEBUG.includes("literal"),Ze=["render","NaN","Infinity","undefined","do","if","in","for","let","new","try","var","case","else","enum","eval","null","this","true","void","with","await","break","catch","class","const","false","super","throw","while","yield","delete","export","import","public","return","static","switch","typeof","default","extends","finally","package","private","continue","debugger","function","arguments","interface","protected","implements","instanceof"],he={Unexpected:"• Non-template backticks must be escaped: \\`\n• ${} accepts any valid JS expression\n"},W="  ";function Ke(e,t,r){y("compile",e+" { "+r+" }"),r.split(/\s*,\s*/).forEach(n=>{if(Ze.includes(n))throw new SyntaxError("Reserved word "+n+" cannot be used as template variable");t[n]&&y("warning","template variable "+n+" overrides scope "+typeof t[n]+" "+(typeof t[n]=="function"?n+"()":n),"red")})}function Qe(e,t,r){console.log(""),console.log(t.slice(0,1e3)+(t.length>1e3?`

...
`:`
`)),console.log(r.constructor.name+":",r.message,"parsing",'"'+(e.length<60?e:e.slice(0,16)+" ... "+e.slice(-8))+'"');let n=r.message.slice(0,10);he[n]&&console.log(`
Hints
`+he[n]),console.log(""),console.log("")}var O={};function Xe(e){let t=e[0];return/^\w/.test(t)}function Ye(e){return e.split(/\s*[,\s]\s*/).filter(Xe).sort().join(", ")}function f(e,t,r,n,o="data"){if(typeof r!="string")throw new Error("Template is not a string");let i=n||r;if(O[i])return O[i];let s=t&&Ye(t),l=`
`+(n?W+"// Render "+n+`
`:"")+(s?W+"const { "+s+" } = "+o+`;
`:"")+W+"return this.resolve`"+r+"`;\n";if(ze)try{Ke(n||(i.trim().length>45?"`"+i.trim().slice(0,33).replace(/ *\n */g," ")+" ... "+i.trim().slice(-8).replace(/ *\n */g," ")+"`":"`"+i.trim().replace(/ *\n */g," ")+"`"),e,"data"+(s?", "+s:""));let w=k(e,"data = {}",l);return O[i]=function(){return y("render ",n||(i.trim().length>45?"`"+i.trim().slice(0,33).replace(/ *\n */g," ")+" ... "+i.trim().slice(-8).replace(/ *\n */g," ")+"`":"`"+i.trim().replace(/ *\n */g," ")+"`"),"orange"),w.apply(this,arguments)}}catch(w){throw Qe(i,l,w),w}return O[i]=k(e,"data = {}",l)}var et=/\s*(\([\w,\s]*\))/,tt=/function(?:\s+\w+)?\s*(\([\w,\s]*\))/,b=a($,{boolean:e=>e+"",function:e=>e.prototype?(e.name||"function")+(tt.exec(e.toString())||[])[1]:(et.exec(e.toString())||[])[1]+" ⇒ ()",number:e=>Number.isNaN(e)?"":Number.isFinite(e)?e+"":e<0?"-∞":"∞",string:L,symbol:e=>e.toString(),undefined:e=>"",object:a(e=>e&&e.constructor.name,{RegExp:e=>e.source,null:()=>"",default:e=>JSON.stringify(e,null,2)}),default:JSON.stringify});var rt=Object.assign,nt=e=>e&&typeof e=="object"&&e.then,N=e=>e.reduce((t,r)=>r===""||r===void 0?t:t+r);function ot(e,t,r){return e&&typeof e=="object"?e.then?e.then(n=>t===""?n:t+n):e.find?e.find(nt)?Promise.all(e).then(n=>t===""?N(n.map(r)):t+N(n.map(r))):t===""?N(e.map(r)):t+N(e.map(r)):t===""?r(e):t+r(e):t===""?r(e):t+r(e)}function M(e){let t=e[0];return N(t.map((r,n)=>n<=e.length?ot(e[n+1],r,b):r===""?void 0:r))}function u(e,t,r,n,o){this.consts=e,this.source=t,this.node=r,this.path=n,this.name=o}rt(u.prototype,{resolve:function(){return Promise.all(arguments).then(M).then(this.update)}});var it=Object.assign;function st(e,t,r){return r===e.getAttribute(t)?0:(e.setAttribute(t,r),1)}function T(e,t,r,n,o){u.apply(this,arguments),this.render=f(p,e,t,null,"arguments[1]"),this.update=i=>st(r,o,i)}it(T.prototype,u.prototype);var ut=Object.assign;function ct(e,t,r){if(t in e){if(!!r===e[t])return 0;e[t]=r}else r?e.setAttribute(t,t):e.removeAttribute(t);return 1}function B(e,t,r,n,o){u.apply(this,arguments),this.render=f(p,e,t,null,"arguments[1]"),this.update=i=>ct(r,o,i),r.removeAttribute(o)}ut(B.prototype,u.prototype);function H(e){return!!e||e!=null&&!Number.isNaN(e)}var J=Object.assign,ft=window.CustomEvent,_={bubbles:!0,cancelable:!0};function z(e,t){let r;typeof e=="object"&&(r=J({},_,e),e=r.type,delete r.type),t&&t.detail&&(r?r.detail=t.detail:r=J({detail:t.detail},_));var n=new ft(e,r||_);return t&&(delete t.detail,J(n,t)),n}function lt(e,t){let r;typeof e=="object"&&(r=e,e=r.type,delete r.type);var n=z(e,r);return t.dispatchEvent(n),t}var R=c(lt,!0);var j={changeEvent:"dom-update"};var pt=Object.assign,at=/^\s*$/;function dt(e){return!at.test(e)}function mt(e){if(e.length!==2||e[0].find(dt))throw new Error("A checked attribute may contain only one ${ tag }, optionally surrounded by white space");return e[1]}function ht(e,t){let r=H(e.getAttribute("value"))?t+""===e.value:!!t;return r===e.checked?0:(e.checked=r,j.changeEvent&&R(j.changeEvent,e),1)}function C(e,t,r,n,o="checked"){u.apply(this,arguments),this.render=f(p,e,t,null,"arguments[1]"),this.update=i=>ht(r,i),r.checked=!1}pt(C.prototype,u.prototype,{resolve:function(){return Promise.all(arguments).then(mt).then(this.update)}});function yt(e,t){if(!/^#/.test(e))throw new Error('Template: Only #fragment identifiers currently supported as include() urls ("'+e+'")');let r=new m(e.slice(1));return typeof t=="string"?gt(t).then(n=>r.render(n)):r.render(t||{}),r}var ge=c(yt);var wn=window.DEBUG===!0||window.DEBUG&&window.DEBUG.includes("literal"),ye=Object.assign,wt=Object.create,xt=ye({},p,{include:ge});function bt(e,t,r){let n=r.length,o=-1;for(;++o<n;)e=we(e,t,r[o]);return e}function we(e,t,r){if(r&&typeof r=="object"){if(typeof r.length=="number")return bt(e,t,r);if(r instanceof Node||r instanceof m)return e&&t.push(e),t.push(r),""}return e+b(r)}function jt(e){let t=e[0],r=[],n=-1,o="";for(;t[++n]!==void 0;)o=we(o+t[n],r,e[n+1]);return o&&r.push(o),r}function xe(e,t){return e.after?e.after(t):e.last.after(t),1}function be(e,t){return t.stop&&t.stop(),e+=t.remove()||1,e}function Z(e,t){return e.nodeValue!==t?(e.nodeValue=t,1):0}function je(e,t,r){let n=0,o;typeof r[0]=="string"?(n+=Z(e,r[0]),o=0):(n+=Z(e,""),o=-1);let i=0,s;for(;s=r[++o];){if(typeof s=="string"){for(;i<t.length&&!x(t[i]);)n=t.splice(i,1).reduce(be,n);if(t[i])n+=Z(t[i],s);else{let l=document.createTextNode(s);n+=xe(t[i-1],l),t.push(l)}}else n+=xe(t[i-1]||e,s.fragment),t.splice(i,0,s);++i}return n=t.splice(i).reduce(be,n),n}function v(e,t,r,n,o="content"){u.apply(this,arguments);let i=this.children=[];this.render=f(xt,e,t,null,"arguments[1]"),this.update=s=>je(r,i,s)}ye(v.prototype,{clone:function(e){let t=wt(v.prototype),r=t.children=[];return t.node=e,t.path=this.path,t.render=this.render,t.update=n=>je(e,r,n),t},resolve:function(){return Promise.all(arguments).then(jt).then(this.update)}});var vt=Object.assign,Et=[],Nt=a((e,t)=>t,{class:e=>e.classList});function kt(e,t){t instanceof Node?e.push(t):t&&typeof t=="object"&&t.length!==void 0?e.push.apply(e,t):e.push(b(t))}function Ot(e){let[t]=e,r=[];for(var n=-1,o;t[++n]!==void 0;)t[n]&&r.push(t[n]),o=e[n+1],o!==void 0&&o!==""&&kt(r,o);return r}function Tt(e,t,r,n){let o=t.length;for(;o--;)r.indexOf(t[o])!==-1&&t.splice(o,1);return t.length&&(e.remove.apply(e,t),++n),e.add.apply(e,r),++n}function D(e,t,r,n,o){u.apply(this,arguments);let i=Nt(r,o),s=Et;this.render=f(p,e,t,null,"arguments[1]"),this.update=l=>{let w=Tt(i,s,l,0);return s=l,w},r.setAttribute(o,"")}vt(D.prototype,u.prototype,{resolve:function(){return Promise.all(arguments).then(Ot).then(this.update)}});var ve=Object.assign,Ee=/^\s*$/,Bt={number:"number",range:"number"};function Ne(e,t){return e===void 0?t:e+t}function Rt(e){let t=e[0],r=Ee.test(t[0])?void 0:t[0],n=0;for(;t[++n]!==void 0;)r=Ne(r,e[n]),Ee.test(t[n])||(r=Ne(r,t[n]));return r}function Ct(e,t,r){return t in e?e[t]=r:e.setAttribute(t,r),1}function ke(e,t){if(document.activeElement===e)return 0;let r=Bt[e.type]||"string";if(t=typeof t===r?t:null,t===e.value||t+""===e.value)return 0;let n=Ct(e,"value",t);return j.changeEvent&&R(j.changeEvent,e),n}function A(e,t,r,n,o="value"){u.apply(this,arguments),this.render=f(p,e,t,null,"arguments[1]"),this.update=i=>ke(r,i)}ve(A.prototype,u.prototype,{resolve:function(){return Promise.all(arguments).then(Rt).then(this.update)}});function K(e,t,r,n,o="value"){u.apply(this,arguments),this.render=f(p,e,t,null,"arguments[1]"),this.update=i=>ke(r,i)}ve(K.prototype,u.prototype,{resolve:function(){return Promise.all(arguments).then(M).then(this.update)}});var Oe=document.createElement("textarea");function V(e){return Oe.innerHTML=e,Oe.value}var Hn=window.DEBUG===!0||window.DEBUG&&window.DEBUG.includes("literal"),Te={types:{button:["name","value"],checkbox:["required","value","checked"],date:["required","min","max","step","value"],hidden:["value"],image:["src"],number:["required","min","max","step","value"],radio:["required","value","checked"],range:["min","max","step","value"],reset:["value"],submit:["value"],time:["required","min","max","step","value"],default:["required","value"]}},h=/\$\{/;function Be(e,t,r,n,o){let i=o.value;if(!i||!h.test(i))return;let s=o.localName;e.push(new T(t,i,n,r,s))}function Q(e,t,r,n,o){let i=o.value;if(!i||!h.test(i))return;let s=o.localName;e.push(new B(t,i,n,r,s))}function Dt(e,t,r,n,o){let i=o.value;if(!i||!h.test(i))return;let s=o.localName;e.push(new D(t,i,n,r,s))}function At(e,t,r,n,o){let i=o.value;!i||!h.test(i)||e.push(new A(t,i,n,r))}function X(e,t,r,n,o){let i=o.value;!i||!h.test(i)||e.push(new K(t,i,n,r))}function Vt(e,t,r,n,o){let i=o.value;!i||!h.test(i)||e.push(new C(t,i,n,r))}var Pt=a((e,t,r,n,o)=>o.localName,{checked:Vt,class:Dt,datetime:function(t,r,n,o,i){console.log("Todo: compile datetime")},disabled:Q,hidden:Q,"inner-content":function(e,t,r,n,o){let i=o.value;!i||!h.test(i)||(n.removeAttribute(o.localName),e.push(new v(t,V(i),n,r)))},required:Q,value:a((e,t,r,n,o)=>""+n.type,{text:X,search:X,"select-one":X,default:At,undefined:Be}),default:Be});function Re(e,t,r,n){let o=n.attributes;for(var i=-1,s;s=o[++i];)Pt(e,t,r,n,s)}function Y(e,t,r,n){let o=n.childNodes;if(o){let i=-1;for(;o[++i];)Ce(e,t,r?r+"."+i:r+i,o[i])}}function St(e,t,r,n){let o=n.type;if(!o)return;let i=Te.types[o]||Te.types.default;Re(e,t,r,n,i)}var Gt=a((e,t,r,n)=>n.tagName.toLowerCase(),{defs:g,default:(e,t,r,n)=>{Y(e,t,r,n),Re(e,t,r,n),St(e,t,r,n)}}),Ce=a((e,t,r,n)=>ne(n),{comment:g,element:(e,t,r,n)=>(Gt(e,t,r,n),e),fragment:(e,t,r,n)=>(Y(e,t,r,n),e),text:(e,t,r,n)=>{let o=n.nodeValue;return o&&h.test(o)&&e.push(new v(t,V(o),n,r)),e},doctype:g,document:(e,t,r,n)=>(Y(e,t,r,n),e),default:()=>{throw new Error("Node not compileable")}}),De=Ce;var P=Symbol("target"),S=Symbol("observer"),ee=Symbol("sets"),_n=Array.prototype,zn=Object.freeze([]),Ut=Object.isExtensible;function qt(e,t){let r=e.indexOf(t);return r>-1&&e.splice(r,1),e}function te(e,t,r){if(!!e)for(var n=-1;e[++n];)e[n](t,r)}function Lt(e){return e&&Ut(e)&&!Node.prototype.isPrototypeOf(e)&&(typeof BaseAudioContext=="undefined"||!BaseAudioContext.prototype.isPrototypeOf(e))&&!(e instanceof Date)&&!(e instanceof RegExp)&&!(e instanceof Map)&&!(e instanceof WeakMap)&&!(e instanceof Set)&&!(window.WeakSet&&e instanceof WeakSet)&&!ArrayBuffer.isView(e)}function $t(e){let t={gets:[],sets:[]};return e[S]=new Proxy(e,{get:function(n,o,i){if(typeof o=="symbol")return o===P?n:o===S?i:o===ee?t:n[o];let s;return(s=Object.getOwnPropertyDescriptor(n,o),!s||s.writable)&&te(t.gets,o),d(n[o])||n[o]},set:function(n,o,i,s){return n[o]===i||(n[o]=i&&typeof i=="object"&&i[P]||i,i=n[o],te(t.sets,o,i)),!0}})}function d(e){return e?e[S]||(Lt(e)?$t(e):void 0):void 0}d.notify=function(t,r,n){let o=t[S];if(!o)return;let i=o[P],s=o[ee].sets;te(s,r,n===void 0?i[r]:n)};d.target=function(t){return t&&t[P]||t};function re(e,t,r){this.fns=t[ee][e+"s"],this.fn=r,this.fns.push(r)}re.prototype.stop=function(){qt(this.fns,this.fn)};d.gets=function(t,r){return new re("get",t,r)};d.sets=function(t,r){return new re("set",t,r)};var Ft=window.DEBUG===!0||window.DEBUG&&window.DEBUG.includes("literal"),It=Object.assign,E={};function Ae(e,t){return t+e}function Wt(e){return e!==0}function Ve(e){e.reduce(Ae,0)!==0&&y("mutate ",e.reduce(Ae,0),"#ff7246")}function Mt(e,t){return/^[a-zA-Z]/.test(t)?e:e.childNodes[t]}function Ht(e,t){return e.split(/\./).reduce(Mt,t)}function Jt(e){return new e.constructor(e.consts,e.source,Ht(e.path,this),e.path,e.name)}function _t(e){let t=e.rendered;if(!t){e.rendered={};return}let r;for(r in t)t[r]=void 0}function Pe(e,t,r){_t(e);let n=d.gets(t,(i,s)=>e.rendered[i]=!0),o=e.render(t,r);return n.stop(),o}function zt(e){let t=e.childNodes[0],r=e.childNodes[e.childNodes.length-1];if(x(t)||e.prependChild(document.createTextNode("")),x(r)){let n=/\s*$/.exec(r.nodeValue);r.nodeValue=n.input.slice(0,n.index),e.appendChild(document.createTextNode(n[0]))}else e.appendChild(document.createTextNode(""))}function m(e){let t=typeof e=="string"?e:U(e);if(E[t]){this.consts=E[t].consts,this.content=E[t].content,this.fragment=E[t].content.cloneNode(!0),this.first=this.fragment.childNodes[0],this.last=this.fragment.childNodes[this.fragment.childNodes.length-1],this.renderers=E[t].renderers.map(Jt,this.fragment),this.sets=G;return}if(e=typeof e=="string"?document.getElementById(e):e,Ft){if(!e)throw new Error('Template id="'+t+'" not found in document');if(!e.content)throw new Error('Element id="'+t+'" is not a <template> (no content fragment)');e.dataset.data!==void 0&&y("render","data-data attribute will be ignored","red")}zt(e.content),this.consts=e.dataset?Object.keys(e.dataset):G,this.content=e.content,this.fragment=e.content.cloneNode(!0),this.first=this.fragment.childNodes[0],this.last=this.fragment.childNodes[this.fragment.childNodes.length-1],this.renderers=De([],this.consts.join(", "),"",this.fragment),this.sets=G,E[t]=this}It(m.prototype,{render:function(e={}){let t=d.target(e);if(t===this.data)return this.fragment;this.data=t;let r=d(t),n=this.renderers;return this.sets.stop(),this.sets=r?d.sets(r,(o,i)=>{let s=n.map(l=>l.rendered[o]?Pe(l,r,t):0);!s.find(Wt)||Promise.all(s).then(Ve)}):G,Promise.all(n.map(o=>Pe(o,r,t))).then(o=>(Ve(o),this.fragment))},stop:function(){this.sets.stop(),this.render=g},remove:function(){let e=0,t=this.last;for(;t!==this.first;){let r=t.previousSibling;t.remove(),++e,t=r}return this.first.remove(),++e}});var so=Zt('<template is="literal-template">',{construct:function(){this.instanceCount=0},properties:{render:{value:function(e){let t=new m(this);return++this.instanceCount,t.render(e),t.fragment}}}});export{so as default};
